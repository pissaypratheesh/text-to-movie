{"version":3,"file":"buildRectangle.js","names":["buildRectangle","graphicsData","webGLData","webGLDataNativeLines","rectData","shape","x","y","width","height","fill","color","hex2rgb","fillColor","alpha","fillAlpha","r","g","b","verts","points","indices","vertPos","length","push","lineWidth","tempPoints","buildLine"],"sources":["../../../../src/graphics/webgl/utils/buildRectangle.js"],"sourcesContent":["import buildLine from \"./buildLine\";\nimport { hex2rgb } from \"../../../utils\";\n\n/**\n * Builds a rectangle to draw\n *\n * Ignored from docs since it is not directly exposed.\n *\n * @ignore\n * @private\n * @param {InkPaint.WebGLGraphicsData} graphicsData - The graphics object containing all the necessary properties\n * @param {object} webGLData - an object containing all the webGL-specific information to create this shape\n * @param {object} webGLDataNativeLines - an object containing all the webGL-specific information to create nativeLines\n */\nexport default function buildRectangle(\n  graphicsData,\n  webGLData,\n  webGLDataNativeLines\n) {\n  // --- //\n  // need to convert points to a nice regular data\n  //\n  const rectData = graphicsData.shape;\n  const x = rectData.x;\n  const y = rectData.y;\n  const width = rectData.width;\n  const height = rectData.height;\n\n  if (graphicsData.fill) {\n    const color = hex2rgb(graphicsData.fillColor);\n    const alpha = graphicsData.fillAlpha;\n\n    const r = color[0] * alpha;\n    const g = color[1] * alpha;\n    const b = color[2] * alpha;\n\n    const verts = webGLData.points;\n    const indices = webGLData.indices;\n\n    const vertPos = verts.length / 6;\n\n    // start\n    verts.push(x, y);\n    verts.push(r, g, b, alpha);\n\n    verts.push(x + width, y);\n    verts.push(r, g, b, alpha);\n\n    verts.push(x, y + height);\n    verts.push(r, g, b, alpha);\n\n    verts.push(x + width, y + height);\n    verts.push(r, g, b, alpha);\n\n    // insert 2 dead triangles..\n    indices.push(\n      vertPos,\n      vertPos,\n      vertPos + 1,\n      vertPos + 2,\n      vertPos + 3,\n      vertPos + 3\n    );\n  }\n\n  if (graphicsData.lineWidth) {\n    const tempPoints = graphicsData.points;\n\n    graphicsData.points = [\n      x,\n      y,\n      x + width,\n      y,\n      x + width,\n      y + height,\n      x,\n      y + height,\n      x,\n      y\n    ];\n\n    buildLine(graphicsData, webGLData, webGLDataNativeLines);\n\n    graphicsData.points = tempPoints;\n  }\n}\n"],"mappings":";;;;;;AAAA;AACA;AAAyC;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,cAAc,CACpCC,YAAY,EACZC,SAAS,EACTC,oBAAoB,EACpB;EACA;EACA;EACA;EACA,IAAMC,QAAQ,GAAGH,YAAY,CAACI,KAAK;EACnC,IAAMC,CAAC,GAAGF,QAAQ,CAACE,CAAC;EACpB,IAAMC,CAAC,GAAGH,QAAQ,CAACG,CAAC;EACpB,IAAMC,KAAK,GAAGJ,QAAQ,CAACI,KAAK;EAC5B,IAAMC,MAAM,GAAGL,QAAQ,CAACK,MAAM;EAE9B,IAAIR,YAAY,CAACS,IAAI,EAAE;IACrB,IAAMC,KAAK,GAAG,IAAAC,cAAO,EAACX,YAAY,CAACY,SAAS,CAAC;IAC7C,IAAMC,KAAK,GAAGb,YAAY,CAACc,SAAS;IAEpC,IAAMC,CAAC,GAAGL,KAAK,CAAC,CAAC,CAAC,GAAGG,KAAK;IAC1B,IAAMG,CAAC,GAAGN,KAAK,CAAC,CAAC,CAAC,GAAGG,KAAK;IAC1B,IAAMI,CAAC,GAAGP,KAAK,CAAC,CAAC,CAAC,GAAGG,KAAK;IAE1B,IAAMK,KAAK,GAAGjB,SAAS,CAACkB,MAAM;IAC9B,IAAMC,OAAO,GAAGnB,SAAS,CAACmB,OAAO;IAEjC,IAAMC,OAAO,GAAGH,KAAK,CAACI,MAAM,GAAG,CAAC;;IAEhC;IACAJ,KAAK,CAACK,IAAI,CAAClB,CAAC,EAAEC,CAAC,CAAC;IAChBY,KAAK,CAACK,IAAI,CAACR,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEJ,KAAK,CAAC;IAE1BK,KAAK,CAACK,IAAI,CAAClB,CAAC,GAAGE,KAAK,EAAED,CAAC,CAAC;IACxBY,KAAK,CAACK,IAAI,CAACR,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEJ,KAAK,CAAC;IAE1BK,KAAK,CAACK,IAAI,CAAClB,CAAC,EAAEC,CAAC,GAAGE,MAAM,CAAC;IACzBU,KAAK,CAACK,IAAI,CAACR,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEJ,KAAK,CAAC;IAE1BK,KAAK,CAACK,IAAI,CAAClB,CAAC,GAAGE,KAAK,EAAED,CAAC,GAAGE,MAAM,CAAC;IACjCU,KAAK,CAACK,IAAI,CAACR,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEJ,KAAK,CAAC;;IAE1B;IACAO,OAAO,CAACG,IAAI,CACVF,OAAO,EACPA,OAAO,EACPA,OAAO,GAAG,CAAC,EACXA,OAAO,GAAG,CAAC,EACXA,OAAO,GAAG,CAAC,EACXA,OAAO,GAAG,CAAC,CACZ;EACH;EAEA,IAAIrB,YAAY,CAACwB,SAAS,EAAE;IAC1B,IAAMC,UAAU,GAAGzB,YAAY,CAACmB,MAAM;IAEtCnB,YAAY,CAACmB,MAAM,GAAG,CACpBd,CAAC,EACDC,CAAC,EACDD,CAAC,GAAGE,KAAK,EACTD,CAAC,EACDD,CAAC,GAAGE,KAAK,EACTD,CAAC,GAAGE,MAAM,EACVH,CAAC,EACDC,CAAC,GAAGE,MAAM,EACVH,CAAC,EACDC,CAAC,CACF;IAED,IAAAoB,kBAAS,EAAC1B,YAAY,EAAEC,SAAS,EAAEC,oBAAoB,CAAC;IAExDF,YAAY,CAACmB,MAAM,GAAGM,UAAU;EAClC;AACF"}