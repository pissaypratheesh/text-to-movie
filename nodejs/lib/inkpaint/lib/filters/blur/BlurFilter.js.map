{"version":3,"file":"BlurFilter.js","names":["BlurFilter","Filter","constructor","strength","quality","resolution","kernelSize","blurXFilter","BlurXFilter","blurYFilter","BlurYFilter","padding","settings","RESOLUTION","blur","apply","filterManager","input","output","renderTarget","getRenderTarget","returnRenderTarget","value","Math","max","abs","blurX","blurY","blendMode","_blendMode"],"sources":["../../../src/filters/blur/BlurFilter.js"],"sourcesContent":["import settings from \"../../settings\";\nimport Filter from \"../../renderers/webgl/filters/Filter\";\nimport BlurXFilter from \"./BlurXFilter\";\nimport BlurYFilter from \"./BlurYFilter\";\n\nexport default class BlurFilter extends Filter {\n  constructor(strength, quality, resolution, kernelSize) {\n    super();\n\n    this.blurXFilter = new BlurXFilter(\n      strength,\n      quality,\n      resolution,\n      kernelSize\n    );\n    this.blurYFilter = new BlurYFilter(\n      strength,\n      quality,\n      resolution,\n      kernelSize\n    );\n\n    this.padding = 0;\n    this.resolution = resolution || settings.RESOLUTION;\n    this.quality = quality || 4;\n    this.blur = strength || 8;\n  }\n\n  apply(filterManager, input, output) {\n    const renderTarget = filterManager.getRenderTarget(true);\n\n    this.blurXFilter.apply(filterManager, input, renderTarget, true);\n    this.blurYFilter.apply(filterManager, renderTarget, output, false);\n    filterManager.returnRenderTarget(renderTarget);\n  }\n\n  /**\n   * Sets the strength of both the blurX and blurY properties simultaneously\n   *\n   * @member {number}\n   * @default 2\n   */\n  get blur() {\n    return this.blurXFilter.blur;\n  }\n\n  set blur(value) {\n    this.blurXFilter.blur = this.blurYFilter.blur = value;\n    this.padding =\n      Math.max(\n        Math.abs(this.blurXFilter.strength),\n        Math.abs(this.blurYFilter.strength)\n      ) * 2;\n  }\n\n  /**\n   * Sets the number of passes for blur. More passes means higher quaility bluring.\n   *\n   * @member {number}\n   * @default 1\n   */\n  get quality() {\n    return this.blurXFilter.quality;\n  }\n\n  set quality(value) {\n    this.blurXFilter.quality = this.blurYFilter.quality = value;\n  }\n\n  /**\n   * Sets the strength of the blurX property\n   *\n   * @member {number}\n   * @default 2\n   */\n  get blurX() {\n    return this.blurXFilter.blur;\n  }\n\n  set blurX(value) {\n    this.blurXFilter.blur = value;\n    this.padding =\n      Math.max(\n        Math.abs(this.blurXFilter.strength),\n        Math.abs(this.blurYFilter.strength)\n      ) * 2;\n  }\n\n  /**\n   * Sets the strength of the blurY property\n   *\n   * @member {number}\n   * @default 2\n   */\n  get blurY() {\n    return this.blurYFilter.blur;\n  }\n\n  set blurY(value) {\n    this.blurYFilter.blur = value;\n    this.padding =\n      Math.max(\n        Math.abs(this.blurXFilter.strength),\n        Math.abs(this.blurYFilter.strength)\n      ) * 2;\n  }\n\n  get blendMode() {\n    return this.blurYFilter._blendMode;\n  }\n\n  set blendMode(value) {\n    this.blurYFilter._blendMode = value;\n  }\n}\n"],"mappings":"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"}