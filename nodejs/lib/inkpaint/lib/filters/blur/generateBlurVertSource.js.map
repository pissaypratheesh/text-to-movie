{"version":3,"file":"generateBlurVertSource.js","names":["vertTemplate","join","generateVertBlurSource","kernelSize","x","halfLength","Math","ceil","vertSource","blurLoop","template","i","blur","replace"],"sources":["../../../src/filters/blur/generateBlurVertSource.js"],"sourcesContent":["const vertTemplate = [\n    'attribute vec2 aVertexPosition;',\n    'attribute vec2 aTextureCoord;',\n\n    'uniform float strength;',\n    'uniform mat3 projectionMatrix;',\n\n    'varying vec2 vBlurTexCoords[%size%];',\n\n    'void main(void)',\n    '{',\n    'gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);',\n    '%blur%',\n    '}',\n].join('\\n');\n\nexport default function generateVertBlurSource(kernelSize, x)\n{\n    const halfLength = Math.ceil(kernelSize / 2);\n\n    let vertSource = vertTemplate;\n\n    let blurLoop = '';\n    let template;\n    // let value;\n\n    if (x)\n    {\n        template = 'vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);';\n    }\n    else\n    {\n        template = 'vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);';\n    }\n\n    for (let i = 0; i < kernelSize; i++)\n    {\n        let blur = template.replace('%index%', i);\n        blur = blur.replace('%sampleIndex%', `${i - (halfLength - 1)}.0`);\n\n        blurLoop += blur;\n        blurLoop += '\\n';\n    }\n\n    vertSource = vertSource.replace('%blur%', blurLoop);\n    vertSource = vertSource.replace('%size%', kernelSize);\n\n    return vertSource;\n}\n"],"mappings":";;;;;;AAAA,IAAMA,YAAY,GAAG,CACjB,iCAAiC,EACjC,+BAA+B,EAE/B,yBAAyB,EACzB,gCAAgC,EAEhC,sCAAsC,EAEtC,iBAAiB,EACjB,GAAG,EACH,qFAAqF,EACrF,QAAQ,EACR,GAAG,CACN,CAACC,IAAI,CAAC,IAAI,CAAC;AAEG,SAASC,sBAAsB,CAACC,UAAU,EAAEC,CAAC,EAC5D;EACI,IAAMC,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACJ,UAAU,GAAG,CAAC,CAAC;EAE5C,IAAIK,UAAU,GAAGR,YAAY;EAE7B,IAAIS,QAAQ,GAAG,EAAE;EACjB,IAAIC,QAAQ;EACZ;;EAEA,IAAIN,CAAC,EACL;IACIM,QAAQ,GAAG,gFAAgF;EAC/F,CAAC,MAED;IACIA,QAAQ,GAAG,gFAAgF;EAC/F;EAEA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,UAAU,EAAEQ,CAAC,EAAE,EACnC;IACI,IAAIC,IAAI,GAAGF,QAAQ,CAACG,OAAO,CAAC,SAAS,EAAEF,CAAC,CAAC;IACzCC,IAAI,GAAGA,IAAI,CAACC,OAAO,CAAC,eAAe,EAAKF,CAAC,IAAIN,UAAU,GAAG,CAAC,CAAC,QAAK;IAEjEI,QAAQ,IAAIG,IAAI;IAChBH,QAAQ,IAAI,IAAI;EACpB;EAEAD,UAAU,GAAGA,UAAU,CAACK,OAAO,CAAC,QAAQ,EAAEJ,QAAQ,CAAC;EACnDD,UAAU,GAAGA,UAAU,CAACK,OAAO,CAAC,QAAQ,EAAEV,UAAU,CAAC;EAErD,OAAOK,UAAU;AACrB"}