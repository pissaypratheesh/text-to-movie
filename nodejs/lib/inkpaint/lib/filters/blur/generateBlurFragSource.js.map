{"version":3,"file":"generateBlurFragSource.js","names":["GAUSSIAN_VALUES","fragTemplate","join","generateFragBlurSource","kernelSize","kernel","halfLength","length","fragSource","blurLoop","template","value","i","blur","replace"],"sources":["../../../src/filters/blur/generateBlurFragSource.js"],"sourcesContent":["const GAUSSIAN_VALUES = {\n    5: [0.153388, 0.221461, 0.250301],\n    7: [0.071303, 0.131514, 0.189879, 0.214607],\n    9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],\n    11: [0.0093, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],\n    13: [0.002406, 0.009255, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],\n    15: [0.000489, 0.002403, 0.009246, 0.02784, 0.065602, 0.120999, 0.174697, 0.197448],\n};\n\nconst fragTemplate = [\n    'varying vec2 vBlurTexCoords[%size%];',\n    'uniform sampler2D uSampler;',\n\n    'void main(void)',\n    '{',\n    '    gl_FragColor = vec4(0.0);',\n    '    %blur%',\n    '}',\n\n].join('\\n');\n\nexport default function generateFragBlurSource(kernelSize)\n{\n    const kernel = GAUSSIAN_VALUES[kernelSize];\n    const halfLength = kernel.length;\n\n    let fragSource = fragTemplate;\n\n    let blurLoop = '';\n    const template = 'gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;';\n    let value;\n\n    for (let i = 0; i < kernelSize; i++)\n    {\n        let blur = template.replace('%index%', i);\n\n        value = i;\n\n        if (i >= halfLength)\n        {\n            value = kernelSize - i - 1;\n        }\n\n        blur = blur.replace('%value%', kernel[value]);\n\n        blurLoop += blur;\n        blurLoop += '\\n';\n    }\n\n    fragSource = fragSource.replace('%blur%', blurLoop);\n    fragSource = fragSource.replace('%size%', kernelSize);\n\n    return fragSource;\n}\n"],"mappings":";;;;;;AAAA,IAAMA,eAAe,GAAG;EACpB,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;EACjC,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;EAC3C,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC;EACpD,EAAE,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;EAC9D,EAAE,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;EAC1E,EAAE,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ;AACtF,CAAC;AAED,IAAMC,YAAY,GAAG,CACjB,sCAAsC,EACtC,6BAA6B,EAE7B,iBAAiB,EACjB,GAAG,EACH,+BAA+B,EAC/B,YAAY,EACZ,GAAG,CAEN,CAACC,IAAI,CAAC,IAAI,CAAC;AAEG,SAASC,sBAAsB,CAACC,UAAU,EACzD;EACI,IAAMC,MAAM,GAAGL,eAAe,CAACI,UAAU,CAAC;EAC1C,IAAME,UAAU,GAAGD,MAAM,CAACE,MAAM;EAEhC,IAAIC,UAAU,GAAGP,YAAY;EAE7B,IAAIQ,QAAQ,GAAG,EAAE;EACjB,IAAMC,QAAQ,GAAG,yEAAyE;EAC1F,IAAIC,KAAK;EAET,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,UAAU,EAAEQ,CAAC,EAAE,EACnC;IACI,IAAIC,IAAI,GAAGH,QAAQ,CAACI,OAAO,CAAC,SAAS,EAAEF,CAAC,CAAC;IAEzCD,KAAK,GAAGC,CAAC;IAET,IAAIA,CAAC,IAAIN,UAAU,EACnB;MACIK,KAAK,GAAGP,UAAU,GAAGQ,CAAC,GAAG,CAAC;IAC9B;IAEAC,IAAI,GAAGA,IAAI,CAACC,OAAO,CAAC,SAAS,EAAET,MAAM,CAACM,KAAK,CAAC,CAAC;IAE7CF,QAAQ,IAAII,IAAI;IAChBJ,QAAQ,IAAI,IAAI;EACpB;EAEAD,UAAU,GAAGA,UAAU,CAACM,OAAO,CAAC,QAAQ,EAAEL,QAAQ,CAAC;EACnDD,UAAU,GAAGA,UAAU,CAACM,OAAO,CAAC,QAAQ,EAAEV,UAAU,CAAC;EAErD,OAAOI,UAAU;AACrB"}