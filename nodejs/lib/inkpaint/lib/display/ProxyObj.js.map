{"version":3,"file":"ProxyObj.js","names":["ProxyObj","EventEmitter","constructor","width","height","alpha","worldAlpha","rotation","x","y","scale","Point","anchor","transform","blendMode","text","style","parent","isProxy","setScaleToInit","copyScaleAndInit","attr","attrs","replaceFromParent","display","index","getChildIndex","removeChild","addChildAt","updateStyle","key","newKey","camelCase","name","SPECIAL_CHARS_REGEXP","MOZ_HACK_REGEXP","replace","_","separator","letter","offset","toUpperCase","destroy","pivot","removeAllListeners"],"sources":["../../src/display/ProxyObj.js"],"sourcesContent":["import { Point } from \"../math\";\nimport EventEmitter from \"eventemitter3\";\nexport default class ProxyObj extends EventEmitter {\n  constructor() {\n    super();\n\n    this.width = null;\n    this.height = null;\n    this.alpha = 1;\n    this.worldAlpha = 1;\n    this.rotation = 0;\n    this.x = 0;\n    this.y = 0;\n    this.scale = new Point(1, 1);\n    this.anchor = new Point();\n    this.transform = {};\n    this.blendMode = null;\n    this.text = null;\n    this.style = null;\n    this.parent = null;\n\n    this.isProxy = true;\n  }\n\n  setScaleToInit() {}\n  copyScaleAndInit(scale) {}\n  attr(attrs) {}\n\n  replaceFromParent(display) {\n    const { parent } = this;\n    if (!parent) return;\n\n    const index = parent.getChildIndex(this);\n    parent.removeChild(this);\n    parent.addChildAt(display, index);\n  }\n\n  updateStyle(style) {\n    if (!this.style) this.style = {};\n\n    for (let key in style) {\n      let newKey = this.camelCase(key);\n      if (newKey === \"color\") newKey = \"fill\";\n      this.style[newKey] = style[key];\n    }\n  }\n\n  camelCase(name) {\n    const SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;\n    const MOZ_HACK_REGEXP = /^moz([A-Z])/;\n\n    return name\n      .replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {\n        return offset ? letter.toUpperCase() : letter;\n      })\n      .replace(MOZ_HACK_REGEXP, \"Moz$1\");\n  }\n\n  destroy() {\n    this.width = null;\n    this.height = null;\n    this.alpha = null;\n    this.x = null;\n    this.y = null;\n    this.scale = null;\n    this.pivot = null;\n    this.anchor = null;\n    this.text = null;\n    this.style = null;\n    this.transform = null;\n    this.parent = null;\n    this.removeAllListeners();\n  }\n}\n"],"mappings":";;;;;;AAAA;AACA;AAAyC;AAC1B,MAAMA,QAAQ,SAASC,qBAAY,CAAC;EACjDC,WAAW,GAAG;IACZ,KAAK,EAAE;IAEP,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,KAAK,GAAG,CAAC;IACd,IAAI,CAACC,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACC,CAAC,GAAG,CAAC;IACV,IAAI,CAACC,CAAC,GAAG,CAAC;IACV,IAAI,CAACC,KAAK,GAAG,IAAIC,WAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5B,IAAI,CAACC,MAAM,GAAG,IAAID,WAAK,EAAE;IACzB,IAAI,CAACE,SAAS,GAAG,CAAC,CAAC;IACnB,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,IAAI,GAAG,IAAI;IAChB,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,MAAM,GAAG,IAAI;IAElB,IAAI,CAACC,OAAO,GAAG,IAAI;EACrB;EAEAC,cAAc,GAAG,CAAC;EAClBC,gBAAgB,CAACV,KAAK,EAAE,CAAC;EACzBW,IAAI,CAACC,KAAK,EAAE,CAAC;EAEbC,iBAAiB,CAACC,OAAO,EAAE;IACzB,IAAM;MAAEP;IAAO,CAAC,GAAG,IAAI;IACvB,IAAI,CAACA,MAAM,EAAE;IAEb,IAAMQ,KAAK,GAAGR,MAAM,CAACS,aAAa,CAAC,IAAI,CAAC;IACxCT,MAAM,CAACU,WAAW,CAAC,IAAI,CAAC;IACxBV,MAAM,CAACW,UAAU,CAACJ,OAAO,EAAEC,KAAK,CAAC;EACnC;EAEAI,WAAW,CAACb,KAAK,EAAE;IACjB,IAAI,CAAC,IAAI,CAACA,KAAK,EAAE,IAAI,CAACA,KAAK,GAAG,CAAC,CAAC;IAEhC,KAAK,IAAIc,GAAG,IAAId,KAAK,EAAE;MACrB,IAAIe,MAAM,GAAG,IAAI,CAACC,SAAS,CAACF,GAAG,CAAC;MAChC,IAAIC,MAAM,KAAK,OAAO,EAAEA,MAAM,GAAG,MAAM;MACvC,IAAI,CAACf,KAAK,CAACe,MAAM,CAAC,GAAGf,KAAK,CAACc,GAAG,CAAC;IACjC;EACF;EAEAE,SAAS,CAACC,IAAI,EAAE;IACd,IAAMC,oBAAoB,GAAG,iBAAiB;IAC9C,IAAMC,eAAe,GAAG,aAAa;IAErC,OAAOF,IAAI,CACRG,OAAO,CAACF,oBAAoB,EAAE,UAASG,CAAC,EAAEC,SAAS,EAAEC,MAAM,EAAEC,MAAM,EAAE;MACpE,OAAOA,MAAM,GAAGD,MAAM,CAACE,WAAW,EAAE,GAAGF,MAAM;IAC/C,CAAC,CAAC,CACDH,OAAO,CAACD,eAAe,EAAE,OAAO,CAAC;EACtC;EAEAO,OAAO,GAAG;IACR,IAAI,CAACvC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACG,CAAC,GAAG,IAAI;IACb,IAAI,CAACC,CAAC,GAAG,IAAI;IACb,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACiC,KAAK,GAAG,IAAI;IACjB,IAAI,CAAC/B,MAAM,GAAG,IAAI;IAClB,IAAI,CAACG,IAAI,GAAG,IAAI;IAChB,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACH,SAAS,GAAG,IAAI;IACrB,IAAI,CAACI,MAAM,GAAG,IAAI;IAClB,IAAI,CAAC2B,kBAAkB,EAAE;EAC3B;AACF;AAAC"}