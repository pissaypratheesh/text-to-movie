{"version":3,"file":"TransformBase.js","names":["TransformBase","constructor","worldTransform","Matrix","localTransform","_worldID","_parentID","updateLocalTransform","updateTransform","parentTransform","pt","wt","lt","a","b","c","d","tx","ty","prototype","updateWorldTransform","IDENTITY"],"sources":["../../src/display/TransformBase.js"],"sourcesContent":["import { Matrix } from \"../math\";\n\nexport default class TransformBase {\n  constructor() {\n    this.worldTransform = new Matrix();\n    this.localTransform = new Matrix();\n\n    this._worldID = 0;\n    this._parentID = 0;\n  }\n\n  updateLocalTransform() {\n    // empty\n  }\n\n  updateTransform(parentTransform) {\n    const pt = parentTransform.worldTransform;\n    const wt = this.worldTransform;\n    const lt = this.localTransform;\n\n    // concat the parent matrix with the objects transform.\n    wt.a = lt.a * pt.a + lt.b * pt.c;\n    wt.b = lt.a * pt.b + lt.b * pt.d;\n    wt.c = lt.c * pt.a + lt.d * pt.c;\n    wt.d = lt.c * pt.b + lt.d * pt.d;\n    wt.tx = lt.tx * pt.a + lt.ty * pt.c + pt.tx;\n    wt.ty = lt.tx * pt.b + lt.ty * pt.d + pt.ty;\n\n    this._worldID++;\n  }\n}\n\nTransformBase.prototype.updateWorldTransform =\n  TransformBase.prototype.updateTransform;\n\nTransformBase.IDENTITY = new TransformBase();\n"],"mappings":";;;;;;AAAA;AAEe,MAAMA,aAAa,CAAC;EACjCC,WAAW,GAAG;IACZ,IAAI,CAACC,cAAc,GAAG,IAAIC,YAAM,EAAE;IAClC,IAAI,CAACC,cAAc,GAAG,IAAID,YAAM,EAAE;IAElC,IAAI,CAACE,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACC,SAAS,GAAG,CAAC;EACpB;EAEAC,oBAAoB,GAAG;IACrB;EAAA;EAGFC,eAAe,CAACC,eAAe,EAAE;IAC/B,IAAMC,EAAE,GAAGD,eAAe,CAACP,cAAc;IACzC,IAAMS,EAAE,GAAG,IAAI,CAACT,cAAc;IAC9B,IAAMU,EAAE,GAAG,IAAI,CAACR,cAAc;;IAE9B;IACAO,EAAE,CAACE,CAAC,GAAGD,EAAE,CAACC,CAAC,GAAGH,EAAE,CAACG,CAAC,GAAGD,EAAE,CAACE,CAAC,GAAGJ,EAAE,CAACK,CAAC;IAChCJ,EAAE,CAACG,CAAC,GAAGF,EAAE,CAACC,CAAC,GAAGH,EAAE,CAACI,CAAC,GAAGF,EAAE,CAACE,CAAC,GAAGJ,EAAE,CAACM,CAAC;IAChCL,EAAE,CAACI,CAAC,GAAGH,EAAE,CAACG,CAAC,GAAGL,EAAE,CAACG,CAAC,GAAGD,EAAE,CAACI,CAAC,GAAGN,EAAE,CAACK,CAAC;IAChCJ,EAAE,CAACK,CAAC,GAAGJ,EAAE,CAACG,CAAC,GAAGL,EAAE,CAACI,CAAC,GAAGF,EAAE,CAACI,CAAC,GAAGN,EAAE,CAACM,CAAC;IAChCL,EAAE,CAACM,EAAE,GAAGL,EAAE,CAACK,EAAE,GAAGP,EAAE,CAACG,CAAC,GAAGD,EAAE,CAACM,EAAE,GAAGR,EAAE,CAACK,CAAC,GAAGL,EAAE,CAACO,EAAE;IAC3CN,EAAE,CAACO,EAAE,GAAGN,EAAE,CAACK,EAAE,GAAGP,EAAE,CAACI,CAAC,GAAGF,EAAE,CAACM,EAAE,GAAGR,EAAE,CAACM,CAAC,GAAGN,EAAE,CAACQ,EAAE;IAE3C,IAAI,CAACb,QAAQ,EAAE;EACjB;AACF;AAAC;AAEDL,aAAa,CAACmB,SAAS,CAACC,oBAAoB,GAC1CpB,aAAa,CAACmB,SAAS,CAACX,eAAe;AAEzCR,aAAa,CAACqB,QAAQ,GAAG,IAAIrB,aAAa,EAAE"}