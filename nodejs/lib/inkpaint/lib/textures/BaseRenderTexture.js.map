{"version":3,"file":"BaseRenderTexture.js","names":["BaseRenderTexture","BaseTexture","constructor","width","height","scaleMode","resolution","settings","RESOLUTION","Math","ceil","realWidth","realHeight","undefined","SCALE_MODE","hasLoaded","_glRenderTargets","_canvasRenderTarget","valid","resize","emit","destroy","renderer"],"sources":["../../src/textures/BaseRenderTexture.js"],"sourcesContent":["import BaseTexture from \"./BaseTexture\";\nimport settings from \"../settings\";\n\nexport default class BaseRenderTexture extends BaseTexture {\n  constructor(width = 100, height = 100, scaleMode, resolution) {\n    super(null, scaleMode);\n\n    this.resolution = resolution || settings.RESOLUTION;\n    this.width = Math.ceil(width);\n    this.height = Math.ceil(height);\n    this.realWidth = this.width * this.resolution;\n    this.realHeight = this.height * this.resolution;\n    this.scaleMode = scaleMode !== undefined ? scaleMode : settings.SCALE_MODE;\n    this.hasLoaded = true;\n\n    this._glRenderTargets = {};\n    this._canvasRenderTarget = null;\n    this.valid = false;\n  }\n\n  resize(width, height) {\n    width = Math.ceil(width);\n    height = Math.ceil(height);\n\n    if (width === this.width && height === this.height) {\n      return;\n    }\n\n    this.valid = width > 0 && height > 0;\n    this.width = width;\n    this.height = height;\n    this.realWidth = this.width * this.resolution;\n    this.realHeight = this.height * this.resolution;\n\n    if (!this.valid) {\n      return;\n    }\n\n    this.emit(\"update\", this);\n  }\n\n  destroy() {\n    super.destroy(true);\n    this.renderer = null;\n  }\n}\n"],"mappings":";;;;;;AAAA;AACA;AAAmC;AAEpB,MAAMA,iBAAiB,SAASC,oBAAW,CAAC;EACzDC,WAAW,CAACC,KAAK,EAAQC,MAAM,EAAQC,SAAS,EAAEC,UAAU,EAAE;IAAA,IAAlDH,KAAK;MAALA,KAAK,GAAG,GAAG;IAAA;IAAA,IAAEC,MAAM;MAANA,MAAM,GAAG,GAAG;IAAA;IACnC,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;IAEtB,IAAI,CAACC,UAAU,GAAGA,UAAU,IAAIC,iBAAQ,CAACC,UAAU;IACnD,IAAI,CAACL,KAAK,GAAGM,IAAI,CAACC,IAAI,CAACP,KAAK,CAAC;IAC7B,IAAI,CAACC,MAAM,GAAGK,IAAI,CAACC,IAAI,CAACN,MAAM,CAAC;IAC/B,IAAI,CAACO,SAAS,GAAG,IAAI,CAACR,KAAK,GAAG,IAAI,CAACG,UAAU;IAC7C,IAAI,CAACM,UAAU,GAAG,IAAI,CAACR,MAAM,GAAG,IAAI,CAACE,UAAU;IAC/C,IAAI,CAACD,SAAS,GAAGA,SAAS,KAAKQ,SAAS,GAAGR,SAAS,GAAGE,iBAAQ,CAACO,UAAU;IAC1E,IAAI,CAACC,SAAS,GAAG,IAAI;IAErB,IAAI,CAACC,gBAAgB,GAAG,CAAC,CAAC;IAC1B,IAAI,CAACC,mBAAmB,GAAG,IAAI;IAC/B,IAAI,CAACC,KAAK,GAAG,KAAK;EACpB;EAEAC,MAAM,CAAChB,KAAK,EAAEC,MAAM,EAAE;IACpBD,KAAK,GAAGM,IAAI,CAACC,IAAI,CAACP,KAAK,CAAC;IACxBC,MAAM,GAAGK,IAAI,CAACC,IAAI,CAACN,MAAM,CAAC;IAE1B,IAAID,KAAK,KAAK,IAAI,CAACA,KAAK,IAAIC,MAAM,KAAK,IAAI,CAACA,MAAM,EAAE;MAClD;IACF;IAEA,IAAI,CAACc,KAAK,GAAGf,KAAK,GAAG,CAAC,IAAIC,MAAM,GAAG,CAAC;IACpC,IAAI,CAACD,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACO,SAAS,GAAG,IAAI,CAACR,KAAK,GAAG,IAAI,CAACG,UAAU;IAC7C,IAAI,CAACM,UAAU,GAAG,IAAI,CAACR,MAAM,GAAG,IAAI,CAACE,UAAU;IAE/C,IAAI,CAAC,IAAI,CAACY,KAAK,EAAE;MACf;IACF;IAEA,IAAI,CAACE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC;EAC3B;EAEAC,OAAO,GAAG;IACR,KAAK,CAACA,OAAO,CAAC,IAAI,CAAC;IACnB,IAAI,CAACC,QAAQ,GAAG,IAAI;EACtB;AACF;AAAC"}