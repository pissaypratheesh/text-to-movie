{"version":3,"file":"Shader.js","names":["checkPrecision","src","def","Array","substring","copy","slice","unshift","trim","Shader","GLShader","constructor","gl","vertexSrc","fragmentSrc","attributeLocations","precision","settings","PRECISION_VERTEX","PRECISION_FRAGMENT","undefined"],"sources":["../src/Shader.js"],"sourcesContent":["import { GLShader } from \"pixi-gl-core\";\nimport settings from \"./settings\";\n\nfunction checkPrecision(src, def) {\n  if (src instanceof Array) {\n    if (src[0].substring(0, 9) !== \"precision\") {\n      const copy = src.slice(0);\n      copy.unshift(`precision ${def} float;`);\n      return copy;\n    }\n  } else if (src.trim().substring(0, 9) !== \"precision\") {\n    return `precision ${def} float;\\n${src}`;\n  }\n\n  return src;\n}\n\nexport default class Shader extends GLShader {\n  constructor(gl, vertexSrc, fragmentSrc, attributeLocations, precision) {\n    super(\n      gl,\n      checkPrecision(vertexSrc, precision || settings.PRECISION_VERTEX),\n      checkPrecision(fragmentSrc, precision || settings.PRECISION_FRAGMENT),\n      undefined,\n      attributeLocations\n    );\n  }\n}\n"],"mappings":";;;;;;AAAA;AACA;AAAkC;AAElC,SAASA,cAAc,CAACC,GAAG,EAAEC,GAAG,EAAE;EAChC,IAAID,GAAG,YAAYE,KAAK,EAAE;IACxB,IAAIF,GAAG,CAAC,CAAC,CAAC,CAACG,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,WAAW,EAAE;MAC1C,IAAMC,IAAI,GAAGJ,GAAG,CAACK,KAAK,CAAC,CAAC,CAAC;MACzBD,IAAI,CAACE,OAAO,gBAAcL,GAAG,aAAU;MACvC,OAAOG,IAAI;IACb;EACF,CAAC,MAAM,IAAIJ,GAAG,CAACO,IAAI,EAAE,CAACJ,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,WAAW,EAAE;IACrD,sBAAoBF,GAAG,iBAAYD,GAAG;EACxC;EAEA,OAAOA,GAAG;AACZ;AAEe,MAAMQ,MAAM,SAASC,oBAAQ,CAAC;EAC3CC,WAAW,CAACC,EAAE,EAAEC,SAAS,EAAEC,WAAW,EAAEC,kBAAkB,EAAEC,SAAS,EAAE;IACrE,KAAK,CACHJ,EAAE,EACFZ,cAAc,CAACa,SAAS,EAAEG,SAAS,IAAIC,iBAAQ,CAACC,gBAAgB,CAAC,EACjElB,cAAc,CAACc,WAAW,EAAEE,SAAS,IAAIC,iBAAQ,CAACE,kBAAkB,CAAC,EACrEC,SAAS,EACTL,kBAAkB,CACnB;EACH;AACF;AAAC"}