{"version":3,"file":"ObservablePoint.js","names":["ObservablePoint","constructor","cb","scope","x","y","_x","_y","clone","_cb","_scope","set","call","copy","point","equals","p","value","dot"],"sources":["../../src/math/ObservablePoint.js"],"sourcesContent":["export default class ObservablePoint {\n  constructor(cb, scope, x = 0, y = 0) {\n    this._x = x;\n    this._y = y;\n\n    this.cb = cb;\n    this.scope = scope;\n  }\n\n  clone(cb = null, scope = null) {\n    const _cb = cb || this.cb;\n    const _scope = scope || this.scope;\n    return new ObservablePoint(_cb, _scope, this._x, this._y);\n  }\n\n  set(x, y) {\n    const _x = x || 0;\n    const _y = y || (y !== 0 ? _x : 0);\n\n    if (this._x !== _x || this._y !== _y) {\n      this._x = _x;\n      this._y = _y;\n      this.cb.call(this.scope);\n    }\n  }\n\n  copy(point) {\n    if (this._x !== point.x || this._y !== point.y) {\n      this._x = point.x;\n      this._y = point.y;\n      this.cb.call(this.scope);\n    }\n  }\n\n  equals(p) {\n    return p.x === this._x && p.y === this._y;\n  }\n\n  get x() {\n    return this._x;\n  }\n\n  set x(value) {\n    if (this._x !== value) {\n      this._x = value;\n      this.cb.call(this.scope);\n    }\n  }\n\n  get y() {\n    return this._y;\n  }\n\n  set y(value) {\n    if (this._y !== value) {\n      this._y = value;\n      this.cb.call(this.scope);\n    }\n  }\n\n  dot(p) {\n    this.x = this.x * p.x;\n    this.x = this.y * p.y;\n  }\n}\n"],"mappings":"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"}