{"version":3,"file":"Rectangle.js","names":["Rectangle","constructor","x","y","width","height","Number","type","SHAPES","RECT","left","right","top","bottom","EMPTY","clone","copy","rectangle","contains","pad","paddingX","paddingY","fit","x1","Math","max","x2","min","y1","y2","enlarge","ceil","resolution","eps","floor","toString"],"sources":["../../../src/math/shapes/Rectangle.js"],"sourcesContent":["import { SHAPES } from \"../../const\";\n\nexport default class Rectangle {\n  constructor(x = 0, y = 0, width = 0, height = 0) {\n    this.x = Number(x);\n    this.y = Number(y);\n    this.width = Number(width);\n    this.height = Number(height);\n    this.type = SHAPES.RECT;\n  }\n\n  get left() {\n    return this.x;\n  }\n\n  get right() {\n    return this.x + this.width;\n  }\n\n  get top() {\n    return this.y;\n  }\n\n  get bottom() {\n    return this.y + this.height;\n  }\n\n  static get EMPTY() {\n    return new Rectangle(0, 0, 0, 0);\n  }\n\n  clone() {\n    return new Rectangle(this.x, this.y, this.width, this.height);\n  }\n\n  copy(rectangle) {\n    this.x = rectangle.x;\n    this.y = rectangle.y;\n    this.width = rectangle.width;\n    this.height = rectangle.height;\n\n    return this;\n  }\n\n  contains(x, y) {\n    if (this.width <= 0 || this.height <= 0) {\n      return false;\n    }\n\n    if (x >= this.x && x < this.x + this.width) {\n      if (y >= this.y && y < this.y + this.height) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  pad(paddingX, paddingY) {\n    paddingX = paddingX || 0;\n    paddingY = paddingY || (paddingY !== 0 ? paddingX : 0);\n\n    this.x -= paddingX;\n    this.y -= paddingY;\n\n    this.width += paddingX * 2;\n    this.height += paddingY * 2;\n  }\n\n  fit(rectangle) {\n    const x1 = Math.max(this.x, rectangle.x);\n    const x2 = Math.min(this.x + this.width, rectangle.x + rectangle.width);\n    const y1 = Math.max(this.y, rectangle.y);\n    const y2 = Math.min(this.y + this.height, rectangle.y + rectangle.height);\n\n    this.x = x1;\n    this.width = Math.max(x2 - x1, 0);\n    this.y = y1;\n    this.height = Math.max(y2 - y1, 0);\n  }\n\n  /**\n   * Enlarges this rectangle to include the passed rectangle.\n   *\n   * @param {InkPaint.Rectangle} rectangle - The rectangle to include.\n   */\n  enlarge(rectangle) {\n    const x1 = Math.min(this.x, rectangle.x);\n    const x2 = Math.max(this.x + this.width, rectangle.x + rectangle.width);\n    const y1 = Math.min(this.y, rectangle.y);\n    const y2 = Math.max(this.y + this.height, rectangle.y + rectangle.height);\n\n    this.x = x1;\n    this.width = x2 - x1;\n    this.y = y1;\n    this.height = y2 - y1;\n  }\n\n  ceil(resolution = 1, eps = 0.001) {\n    const x2 = Math.ceil((this.x + this.width - eps) * resolution) / resolution;\n    const y2 =\n      Math.ceil((this.y + this.height - eps) * resolution) / resolution;\n\n    this.x = Math.floor((this.x + eps) * resolution) / resolution;\n    this.y = Math.floor((this.y + eps) * resolution) / resolution;\n\n    this.width = x2 - this.x;\n    this.height = y2 - this.y;\n  }\n\n  toString() {\n    return `Rect:: ${this.x}_${this.y}_${this.width}_${this.height}`;\n  }\n}\n"],"mappings":"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"}