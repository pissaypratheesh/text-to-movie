{"version":3,"file":"RoundedRectangle.js","names":["RoundedRectangle","constructor","x","y","width","height","radius","type","SHAPES","RREC","clone","contains","dx","dy","radius2"],"sources":["../../../src/math/shapes/RoundedRectangle.js"],"sourcesContent":["import { SHAPES } from \"../../const\";\n\n/**\n * The Rounded Rectangle object is an area that has nice rounded corners, as indicated by its\n * top-left corner point (x, y) and by its width and its height and its radius.\n *\n * @class\n * @memberof InkPaint\n */\nexport default class RoundedRectangle {\n  /**\n   * @param {number} [x=0] - The X coordinate of the upper-left corner of the rounded rectangle\n   * @param {number} [y=0] - The Y coordinate of the upper-left corner of the rounded rectangle\n   * @param {number} [width=0] - The overall width of this rounded rectangle\n   * @param {number} [height=0] - The overall height of this rounded rectangle\n   * @param {number} [radius=20] - Controls the radius of the rounded corners\n   */\n  constructor(x = 0, y = 0, width = 0, height = 0, radius = 20) {\n    /**\n     * @member {number}\n     * @default 0\n     */\n    this.x = x;\n\n    /**\n     * @member {number}\n     * @default 0\n     */\n    this.y = y;\n\n    /**\n     * @member {number}\n     * @default 0\n     */\n    this.width = width;\n\n    /**\n     * @member {number}\n     * @default 0\n     */\n    this.height = height;\n\n    /**\n     * @member {number}\n     * @default 20\n     */\n    this.radius = radius;\n\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     *\n     * @member {number}\n     * @readonly\n     * @default InkPaint.SHAPES.RREC\n     * @see InkPaint.SHAPES\n     */\n    this.type = SHAPES.RREC;\n  }\n\n  /**\n   * Creates a clone of this Rounded Rectangle\n   *\n   * @return {InkPaint.RoundedRectangle} a copy of the rounded rectangle\n   */\n  clone() {\n    return new RoundedRectangle(\n      this.x,\n      this.y,\n      this.width,\n      this.height,\n      this.radius\n    );\n  }\n\n  /**\n   * Checks whether the x and y coordinates given are contained within this Rounded Rectangle\n   *\n   * @param {number} x - The X coordinate of the point to test\n   * @param {number} y - The Y coordinate of the point to test\n   * @return {boolean} Whether the x/y coordinates are within this Rounded Rectangle\n   */\n  contains(x, y) {\n    if (this.width <= 0 || this.height <= 0) {\n      return false;\n    }\n    if (x >= this.x && x <= this.x + this.width) {\n      if (y >= this.y && y <= this.y + this.height) {\n        if (\n          (y >= this.y + this.radius &&\n            y <= this.y + this.height - this.radius) ||\n          (x >= this.x + this.radius && x <= this.x + this.width - this.radius)\n        ) {\n          return true;\n        }\n        let dx = x - (this.x + this.radius);\n        let dy = y - (this.y + this.radius);\n        const radius2 = this.radius * this.radius;\n\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n        dx = x - (this.x + this.width - this.radius);\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n        dy = y - (this.y + this.height - this.radius);\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n        dx = x - (this.x + this.radius);\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n}\n"],"mappings":"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"}